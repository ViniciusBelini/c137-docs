---
description: >-
  The model history is a persistent memory of past conversations, allowing the
  model to recall previous information to respond more accurately and
  contextually.
---

# ⏱️ History

## How History Works

The model history stores each conversation conducted with the user, including:

* **User messages:** All prompts and questions entered by the user are recorded.
* **Model responses:** All responses generated by the model from the user's prompts are also stored.
* **Context:** The history also maintains information about the context of the conversation, such as the date and time of each interaction.

## **Benefits of History**

* **Consistency:** Allows the model to maintain a coherent conversation, remembering past information and using it to answer subsequent questions.
* **Personalization:** The model can learn from past conversations and tailor its responses to the user's preferences.
* **Contextual information:** The history allows the model to provide more complete and informative responses, using information from previous conversations.

## **Using History**

History is a powerful tool that can be used to improve the quality of interactions with the model. However, it is important to be aware of some limitations:

* **History Size:** History has a limited size, which means older conversations may be deleted to make room for new ones.
* **Privacy:** It is important to be aware of the privacy of data stored in the history. Data may be used for research and development purposes, but security measures are taken to protect user privacy.

{% hint style="warning" %}
You may receive an error during your request if the `history` is larger than the `max_output_tokens` of your plan.
{% endhint %}

### History Array Structure

The structure of the History array is simple but important for the model to understand the flow of the conversation. Each entry in the array represents an interaction in the conversation, with the following information:

#### Example

```json
{
  "2023-10-26 10:00:00": {"user": "My name is John"}, 
  "2023-10-26 10:00:30": {"user": "I am a software engineer"} 
}
```

#### Explanation

* **Valid Date Key:** The key is a valid date in the format 'Y-m-d H:i:S', representing the timestamp of the interaction. This ensures chronological order and provides better context for the conversation.
* **Object:** Each key is associated with an object, which contains the information of the interaction.
* **"user":** This field represents the user's message.
* **"model":** (Optional) This field represents the model's response.

### Basic Example

To include an instruction in your request, simply add a key-value pair to your request. The key should be "history" and the value should be the history you want to provide.

Here's a Python example:

```python
import requests

URL = "https://c137.belini.shop/api/generateText"
KEY = "YOUR KEY HERE"

history = '''{
    "2023-10-26 10:00:00": {"user": "My name is John"} 
}'''

data = {
    "key": KEY,
    "history": history,
    "text": "What is my name?"
}

response = requests.post(URL, data=data)

print(f'Status: {response.status_code}')

print('------------------------------------------')
print(response.text)
print('------------------------------------------')
```

If your key is valid, the response will look something like this:

{% hint style="success" %}
```json
{
    "status": "success",
    "code": 200,
    "message": "All working successfully.",
    "generated_text": "Your name is John."
}
```
{% endhint %}
